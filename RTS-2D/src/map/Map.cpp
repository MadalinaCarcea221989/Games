#include "precomp.h"
#include "Map.h"

using namespace Tmpl8;

Sprite mapTiles(new Surface("assets/9tiles.png"), 9);

int map[24][40]
{
	5,5,5,5,0,0,0,8,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,8,0,0,0,5,5,5,5,
	5,5,5,0,0,0,8,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,8,0,0,0,5,5,5,
	5,5,0,0,0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8,8,0,0,0,5,5,
	5,0,0,0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8,8,0,0,0,5,
	0,0,0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8,8,0,0,0,
	0,0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8,8,0,0,
	0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,7,7,7,2,2,2,2,2,2,2,2,2,2,2,8,8,0,
	8,8,2,2,2,2,2,2,2,2,2,2,2,2,7,6,6,6,6,6,6,6,6,6,6,7,2,2,2,2,2,2,2,2,2,2,2,2,8,8,
	8,1,2,2,2,2,2,2,2,2,2,2,2,2,7,6,1,1,1,1,1,1,6,6,6,7,2,2,2,2,2,2,2,2,2,2,2,2,1,8,
	4,1,2,2,2,2,2,2,2,2,2,2,2,7,7,6,1,1,1,1,1,1,1,4,6,6,7,2,2,2,2,2,2,2,2,2,2,2,1,4,
	4,1,2,2,2,2,2,2,2,2,2,2,2,7,6,6,1,1,1,1,1,1,1,4,6,6,4,2,2,2,2,2,2,2,2,2,2,2,1,4,
	4,1,2,2,2,2,2,2,2,2,2,2,2,7,7,6,1,1,1,1,1,1,1,4,6,6,4,2,2,2,2,2,2,2,2,2,2,2,1,4,
	4,1,2,2,2,2,2,2,2,2,2,2,2,4,6,6,6,1,1,1,1,1,1,4,6,6,7,2,2,2,2,2,2,2,2,2,2,2,1,4,
	4,1,2,2,2,2,2,2,2,2,2,2,2,4,6,6,1,1,1,1,1,1,1,1,6,6,7,2,2,2,2,2,2,2,2,2,2,2,1,4,
	4,1,2,2,2,2,2,2,2,2,2,2,2,2,7,6,6,1,1,1,1,1,1,6,6,6,7,2,2,2,2,2,2,2,2,2,2,2,1,4,
	8,1,2,2,2,2,2,2,2,2,2,2,2,2,7,6,6,6,1,1,1,3,3,6,6,7,7,2,2,2,2,2,2,2,2,2,2,2,1,8,
	8,8,2,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,6,6,6,6,6,6,6,7,2,2,2,2,2,2,2,2,2,2,2,2,8,8,
	0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,7,7,2,2,2,2,2,2,2,2,2,2,2,8,8,0,
	0,0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8,8,0,0,
	0,0,0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8,8,0,0,0,
	5,0,0,0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8,8,0,0,0,5,
	5,5,0,0,0,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8,8,0,0,0,5,5,
	5,5,5,0,0,0,8,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,8,0,0,0,5,5,5,
	5,5,5,5,0,0,0,8,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,8,0,0,0,5,5,5,5

};

void Map::DrawTileMap(Surface* screen)
{
	static int frame = 0;
	int column = 40;
	int row = 24;

	for (int i = 0; i < row; i++)
	{
		for (int j = 0; j < column; j++)
		{
			int tileType = map[i][j];

			mapTiles.SetFrame(map[i][j]);
			mapTiles.Draw(screen, j * 32, i * 32);

			switch (tileType)
			{
			case 0:
				//sand to slow the armies
				tileType = 0;
				//std::cout << "slow sand\n";
				break;
			case 1:
				//river which can not be touched, collision detection aabb 
				tileType = 1;
				//std::cout << "river\n";
				break;
			case 2:
				//grass no change 
				tileType = 2;
				//std::cout << "grass\n";
				break;
			case 3:
				tileType = 4;
				//std::cout << "fences-right and left\n";
				break;
			case 4:
				tileType = 3;
				//std::cout << "fences-up and down\n";
				break;
			case 5:
				tileType = 5;
				//std::cout << "rock sand\n";
				break;
			case 6:
				tileType = 6;
				break;
			case 7:
				tileType = 7;
				break;
			case 8:
				tileType = 8;
				break;
			case 9:
				tileType = 9;
				break;

			}
		}
	}
}